# コンテナ操作

## コンテナ起動

`docker container run [OPTION] IMAGE [COMMAND] [ARG...]`

[　]内は省略可能。大文字は引数。

### 主に使うオプション
```
--interactive -i コンテナの標準入力に接続する（キーボードの入力を可能にする）
--tty -t　疑似端末に接続する
--name　コンテナに名前を付ける
--env -e　コンテナに環境変数を設定する
--publish -p　コンテナのポートとホストのポート接続する
--rm　コンテナ停止後にコンテナを削除する
--detach -d　標準入力を切り離す（バックグラウンドで実行させる）
```
###　実験
`-i`と`-t`は基本的にセットで使う。`-it`とできる`-ti`も可
別々で試すと`-i`は対話はできるが表示がおかしい
`-t`は表示は普通だが対話ができない
となった

ふと気になってpythonコンテナでpython3を実行し、`platform.system()`をしたところ、'Linux'とでた。
`platform.release()`もしたところ`'5.15.167.4-microsoft-standard-WSL2'`とでた。
ここでPythonのコンテナの中にはlinuxは含まれていないのか？と疑問が出た。

こたえはどのカーネルでもホストOSのカーネルを使用しており、そのカーネルを使ったLinuxがコンテナの中に動いていることが分かった。
つまりPythonコンテナはububtuのコンテナの中でPythonをインストールしたようなものだと認識した。

これが仮想マシンとコンテナの違いであると理解した。

##　コンテナ内でコマンドの実行

`docker container exec [OPTIONS] CONTAINER COMMAND`

### オプション
`-it`

###　実験
ubuntuコンテナを`it`付きで立ち上げ、`ps`をし、`exec`コマンドで`ps`をしたところ、コンテナ内と結果が違っていた。execで行ったコマンドはコンテナ立ち上げ時とは違うプロセスが立ち上がっていることを理解した。